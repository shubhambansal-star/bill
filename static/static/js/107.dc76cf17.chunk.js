(this["webpackJsonpgull-react"]=this["webpackJsonpgull-react"]||[]).push([[107],{2216:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(0),c=a.n(r),l=a(572),i=a.n(l),s=a(595),o=a(2118),m=function(e){return new Promise((function(t,a){var n=new Image;n.addEventListener("load",(function(){return t(n)})),n.addEventListener("error",(function(e){return a(e)})),n.setAttribute("crossOrigin","anonymous"),n.src=e}))};function u(e){return e*Math.PI/180}function p(e,t){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(i.a.mark((function e(t,a){var n,r,c,l,s,o,p,g=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g.length>2&&void 0!==g[2]?g[2]:0,e.next=3,m(t);case 3:return r=e.sent,c=document.createElement("canvas"),l=c.getContext("2d"),s=Math.max(r.width,r.height),o=s/2*Math.sqrt(2)*2,c.width=o,c.height=o,l.translate(o/2,o/2),l.rotate(u(n)),l.translate(-o/2,-o/2),l.drawImage(r,o/2-.5*r.width,o/2-.5*r.height),p=l.getImageData(0,0,o,o),c.width=a.width,c.height=a.height,l.putImageData(p,0-o/2+.5*r.width-a.x,0-o/2+.5*r.height-a.y),e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=a(547),h=function(e){var t=e.image,a=e.croppedImg,l=e.setCroppedImg,m=e.againCrop,u=e.setAgainCrop,g=e.handleFileSelect,h=Object(r.useState)({x:0,y:0}),f=Object(n.a)(h,2),b=f[0],v=f[1],E=Object(r.useState)(0),C=Object(n.a)(E,2),O=C[0],j=C[1],w=Object(r.useState)(1),x=Object(n.a)(w,2),N=x[0],I=x[1],y=Object(r.useState)(null),S=Object(n.a)(y,2),k=S[0],A=S[1],F=Object(r.useCallback)((function(e,t){A(t)}),[]),L=Object(r.useCallback)(Object(s.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(t,k,O);case 3:(a=e.sent)&&(n=a.toDataURL("image/jpeg"),l(n),u(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[k,O]);return c.a.createElement("div",null,c.a.createElement("div",null,m?c.a.createElement("img",{className:"img-fluid",src:a,alt:""}):c.a.createElement("div",null,c.a.createElement("div",{className:"cropContainer"},c.a.createElement(o.a,{image:t,crop:b,rotation:O,zoom:N,aspect:1,onCropChange:v,onRotationChange:j,onCropComplete:F,onZoomChange:I})),c.a.createElement("div",{className:"row pt-3 mt-3"},c.a.createElement("div",{className:"d-flex align-items-center col-6"},c.a.createElement("span",{className:"me-3 fs-4"},"ZOOM "),c.a.createElement("input",{value:N,type:"range",class:"form-range",style:{width:"100%"},onChange:function(e){return I(e.target.value)},max:"10",step:"0.1"})),c.a.createElement("div",{className:"d-flex align-items-center col-6"},c.a.createElement("span",{className:"me-3 fs-4"},"ROTATION "),c.a.createElement("input",{value:O,type:"range",class:"form-range",style:{width:"100%"},onChange:function(e){return j(e.target.value)},min:"0",max:"360",step:"1"}))))),c.a.createElement("div",{className:"d-flex align-items-center pt-3 mb-5"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"upload-single-file"},c.a.createElement(d.a,{className:"btn-rounded me-3",as:"span"},c.a.createElement("div",{className:"flex flex-middle"},c.a.createElement("i",{className:"i-Share-on-Cloud"}," "),c.a.createElement("span",null,"Single File")))),c.a.createElement("input",{className:"d-none",onChange:function(e){return g(e)},id:"upload-single-file",type:"file",accept:"image/*"})),c.a.createElement("button",{onClick:function(){return m?u(!1):L()},className:"btn btn-rounded btn-primary"},m?"Crop Again":"Crop And Save")))};t.default=function(){var e=Object(r.useState)(null),t=Object(n.a)(e,2),a=t[0],l=t[1],i=Object(r.useState)(!1),s=Object(n.a)(i,2),o=s[0],m=s[1],u=function(e){var t=e.target.files[0],a=URL.createObjectURL(t);l(a)};return c.a.createElement("div",null,c.a.createElement("h3",{className:"text-primary mb-3"},"Image Cropping"),o?c.a.createElement(h,{image:a,croppedImg:a,setCroppedImg:l,againCrop:o,setAgainCrop:m,handleFileSelect:u}):c.a.createElement(h,{image:a||"/assets/images/photo-wide-3.jpg",croppedImg:a,setCroppedImg:l,againCrop:o,setAgainCrop:m,handleFileSelect:u}))}}}]);
//# sourceMappingURL=107.dc76cf17.chunk.js.map